---
timestamp: 'Sat Oct 18 2025 21:25:37 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251018_212537.22eeadb1.md]]'
content_id: f8e788c16e19f40e1ac0d03da4be8b3fe455a954a2b449f4f8303b93c9bcead2
---

# error

These error remain in the test cases

```
AdaptiveSchedule Concept Tests ...
  Operational Principle: Adding, Assigning, AI Adaptation, Unassigning, Querying ...
------- output -------

--- Operational Principle Test ---
  Test started at simulated current time: 2025-10-18T17:00:00.000Z
  Action: assignAdaptiveSchedule for user user:Alice, task task:email to new block (2025-10-18T19:00:00.000Z, 2025-10-18T20:00:00.000Z)
  Output: timeBlockId = 0199fa0f-ed18-7303-8edd-737f2d31c276

  --- Current Adaptive Schedule for user:Alice (after user manually assigning a task) ---
    - Block ID: 0199fa0f-ed18-7303-8edd-737f2d31c276, Start: 2025-10-18T19:00:00.000Z, End: 2025-10-18T20:00:00.000Z, Tasks: [task:email]
  --- End Current Adaptive Schedule ---
  Action: requestAdaptiveScheduleAI for user user:Alice with contexted_prompt
  [MOCK LLM] Called with prompt (truncated): 
  You are a helpful AI assistant that creates optimal adaptive schedules for users based on task analysis, planned schedules, actual routines, and user preferences.

  USER: user:Alice
  
CURRENT TIM...
  Output: Adaptive Blocks: 5 entries, Dropped Tasks: 0 entries

  --- Current Adaptive Schedule for user:Alice (after AI adaptation) ---
    - Block ID: 0199fa0f-ed18-7303-8edd-737f2d31c276, Start: 2025-10-18T19:00:00.000Z, End: 2025-10-18T20:00:00.000Z, Tasks: [task:email]
    - Block ID: 0199fa0f-ed9c-7962-91f3-38097458bb37, Start: 2025-10-18T17:30:00.000Z, End: 2025-10-18T19:30:00.000Z, Tasks: [task:study]
    - Block ID: 0199fa0f-edee-723a-b37e-0386b8836b28, Start: 2025-10-18T17:30:00.000Z, End: 2025-10-18T18:30:00.000Z, Tasks: [task:laundry]
    - Block ID: 0199fa0f-ee34-7c3c-89c9-5a18c1cf3d4e, Start: 2025-10-18T20:00:00.000Z, End: 2025-10-18T23:00:00.000Z, Tasks: [task:report]
    - Block ID: 0199fa0f-ee79-797d-9b18-f2024e2e947c, Start: 2025-10-18T23:15:00.000Z, End: 2025-10-18T23:45:00.000Z, Tasks: [task:exercise]
  --- End Current Adaptive Schedule ---

  --- Current Dropped Tasks for user:Alice (after AI adaptation) ---
    Error fetching dropped tasks: No dropped tasks found for user user:Alice
  --- End Current Dropped Tasks ---
  Action: unassignBlock for user user:Alice, task task:laundry (laundry) from its block
  Output: {} (success)

  --- Current Adaptive Schedule for user:Alice (after unassigning laundry task) ---
    - Block ID: 0199fa0f-ed18-7303-8edd-737f2d31c276, Start: 2025-10-18T19:00:00.000Z, End: 2025-10-18T20:00:00.000Z, Tasks: [task:email]
    - Block ID: 0199fa0f-ed9c-7962-91f3-38097458bb37, Start: 2025-10-18T17:30:00.000Z, End: 2025-10-18T19:30:00.000Z, Tasks: [task:study]
    - Block ID: 0199fa0f-edee-723a-b37e-0386b8836b28, Start: 2025-10-18T17:30:00.000Z, End: 2025-10-18T18:30:00.000Z, Tasks: []
    - Block ID: 0199fa0f-ee34-7c3c-89c9-5a18c1cf3d4e, Start: 2025-10-18T20:00:00.000Z, End: 2025-10-18T23:00:00.000Z, Tasks: [task:report]
    - Block ID: 0199fa0f-ee79-797d-9b18-f2024e2e947c, Start: 2025-10-18T23:15:00.000Z, End: 2025-10-18T23:45:00.000Z, Tasks: [task:exercise]
  --- End Current Adaptive Schedule ---
  Action: _getAdaptiveSchedule for user user:Alice
  Output: Found 5 adaptive blocks.
  Action: _getDroppedTask for user user:Alice
----- output end -----
  Operational Principle: Adding, Assigning, AI Adaptation, Unassigning, Querying ... FAILED (828ms)
  Interesting Scenario 1: Duplicate Time Block & Task Assignment ...
------- output -------
--- Interesting Scenario 4: Multiple Users ---
  Action: addTimeBlock for user user:David
  Output: timeBlockId = 0199fa0f-f3a0-7d6a-a2e0-fb321a0c9789

  --- Current Adaptive Schedule for user:David (after adding block for user:David) ---
    - Block ID: 0199fa0f-f3a0-7d6a-a2e0-fb321a0c9789, Start: 2025-10-18T17:00:00.000Z, End: 2025-10-18T18:00:00.000Z, Tasks: []
  --- End Current Adaptive Schedule ---
  Action: assignAdaptiveSchedule for user user:David, task task:gym
  Output: timeBlockId = 0199fa0f-f3a0-7d6a-a2e0-fb321a0c9789

  --- Current Adaptive Schedule for user:David (after assigning task for user:David) ---
    - Block ID: 0199fa0f-f3a0-7d6a-a2e0-fb321a0c9789, Start: 2025-10-18T17:00:00.000Z, End: 2025-10-18T18:00:00.000Z, Tasks: [task:gym]
  --- End Current Adaptive Schedule ---
  Action: addTimeBlock for user user:Eve
  Output: timeBlockId = 0199fa0f-f457-7576-82b7-9666926c99eb

  --- Current Adaptive Schedule for user:Eve (after adding block for user:Eve) ---
    - Block ID: 0199fa0f-f457-7576-82b7-9666926c99eb, Start: 2025-10-18T19:00:00.000Z, End: 2025-10-18T20:00:00.000Z, Tasks: []
  --- End Current Adaptive Schedule ---
  Action: assignAdaptiveSchedule for user user:Eve, task task:meeting
  Output: timeBlockId = 0199fa0f-f457-7576-82b7-9666926c99eb

  --- Current Adaptive Schedule for user:Eve (after assigning task for user:Eve) ---
    - Block ID: 0199fa0f-f457-7576-82b7-9666926c99eb, Start: 2025-10-18T19:00:00.000Z, End: 2025-10-18T20:00:00.000Z, Tasks: [task:meeting]
  --- End Current Adaptive Schedule ---
  Action: _getAdaptiveSchedule for user user:David
  Output: UserD blocks: 1 entries. Example: ["task:gym"]
  Action: _getAdaptiveSchedule for user user:Eve
  Output: UserE blocks: 1 entries. Example: ["task:meeting"]
----- output end -----
  Interesting Scenario 4: Multiple Users ... ok (454ms)
AdaptiveSchedule Concept Tests ... FAILED (due to 1 failed step) (3s)
running 1 test from ./src/concepts/RoutineLog/RoutineLog.test.ts
```

Is the issue with the test cases setup or with the concept itself?
